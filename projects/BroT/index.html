<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> BroT | Paul Bittner </title> <meta name="author" content="Paul M. Bittner"> <meta name="description" content="encoding at-most-k constraints in boolean logic to help students in configuring branches of study"> <meta name="keywords" content="portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%CE%BB&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://pmbittner.github.io/projects/BroT/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Paul Bittner </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">BroT</h1> <p class="post-description">encoding at-most-k constraints in boolean logic to help students in configuring branches of study</p> </header> <article> <h2 id="origins-and-overview">Origins and Overview</h2> <p>This project was an idea of my PhD supervisor <a href="https://www.tu-braunschweig.de/isf/team/thuem" rel="external nofollow noopener" target="_blank">Thomas</a>. Back when I was in my master’s at the Technical University Braunschweig, he was looking for a student to help in encoding the university’s constraints for branches of study in computer science. The premise is the following:</p> <ul> <li>In the computer science masters back then, you could choose a specialization such as <em>algorithm engineering</em>, <em>database engineering</em>, <em>visual computing</em>, and so on, called <em>branches of study</em>. To specialize, you had to select courses and lectures according to specific constraints, such as <em>“at least 20 credit points must be achieved from this subset of computer vision lectures”</em>. The constraints of each branch of study were defined in natural language on the universities website. Of course we found inconsistencies, ambiguities, and false-optional courses (i.e., a course may be flagged as optional, yet you <em>must</em> take it to satisfy the constraints).</li> <li>Thomas was one of the lead developers of <a href="https://featureide.github.io/" rel="external nofollow noopener" target="_blank">FeatureIDE</a>, basically a reasoning-framework for boolean constraints, including an editor for <a href="https://featureide.github.io/slides/featureide-0-background.pdf" rel="external nofollow noopener" target="_blank">feature models</a> to model constraints graphically (and more things but these are not important for our story here). So Thomas’ idea was to reuse the reasoning engine to (1) formalize the branches of study, and (2) develop a configurator for students so they could see what courses to take (even if they already had taken some but not all relevant courses) and so on.</li> </ul> <p>So I started working on this in terms of a project thesis, which later turned out into a paper <a class="citation" href="#BTS:SEFM19">(Bittner et al., 2019)</a>.</p> <h4 id="a-domain-specific-language-for-branches-of-study">A Domain-Specific Language for Branches of Study</h4> <p>The first thing I did was to develop a domain-specific language (DSL) for branches of study. The DSL featured german keywords so that the administrative staff could write their own branches (which of course <em>never</em> happened). The DSL also came with editor support in Eclipse. Below is a small excerpt for the branch of <code class="language-plaintext highlighter-rouge">Big Data Management</code>, one of the simplest branches of study. Other branches were much more involved and the DSL also featured ways to specify the set of courses and their credit points and so on.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Studiengang</span> <span class="s">"Computer Science"</span>
  <span class="nc">Studienrichtung</span> <span class="s">"Branch Big Data Management"</span>
    <span class="nc">Pflicht</span>
      <span class="s">"Relational Data Bases II"</span>
      <span class="s">"Data Warehousing &amp; Data Mining Techniques"</span>
      <span class="s">"Master Thesis Information Systems"</span>

    <span class="nc">Wahlpflicht</span> <span class="mi">30</span> <span class="no">CP</span>
      <span class="s">"Project Thesis Information Systems"</span>
      <span class="s">"Seminar Informationssysteme"</span>
      <span class="s">"Digital Libraries"</span>
      <span class="s">"Spatial Databases and Geo-Information Systems"</span>
      <span class="s">"Distributed Data Management"</span>
      <span class="s">"Wissensbasierte Systeme und deduktive Datenbanksysteme"</span>
      <span class="s">"Multimedia-Datenbanken"</span>
      <span class="s">"Information Retrieval &amp; Web Search"</span>
      <span class="s">"Ausgewählte Themen der Informationssysteme"</span>
</code></pre></div></div> <h4 id="compiling-to-feature-models-and-boolean-logic">Compiling to Feature Models and Boolean Logic</h4> <p>Second, I developed a compiler that converts expressions of my DSL to feature models, a graphical constraint language based on boolean logic. The idea was that in the DSL, it would be easy to specify constraints where you have to select a subset of courses to reach a certain amount of credit points (<code class="language-plaintext highlighter-rouge">Wahlpflicht</code>), where it is hard to to the same in boolean logic - causing an exponential blowup in the worst case. Indeed, in the following feature model, the second constraint is cut off (<code class="language-plaintext highlighter-rouge">...</code>) because it is way too long.</p> <div class="row"><div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/BroT/brot_bigdata_fm-480.webp 480w,/assets/img/BroT/brot_bigdata_fm-800.webp 800w,/assets/img/BroT/brot_bigdata_fm-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/BroT/brot_bigdata_fm.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Big Data Management Feature Model" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div></div> <h4 id="configuration-app-for-students">Configuration App for Students</h4> <p>Finally, based on a demo implementation by Thomas, I developed a small graphical configuration application for students to determine which courses they would like to attend and for which branches they would be eligible. The tool could also tell students which courses to select to make a certain branch and so on. In the background, this was reusing the configuration engine of FeatureIDE, which uses decision propagation for these purposes. For example, in the following picture, the student decided to take the <em>Big Data Management</em> branch of study (hence it is shown in the <code class="language-plaintext highlighter-rouge">Selected</code> column). BroT then automatically selected mandatory courses and also deselected courses that must not be taken, which in this case means the student cannot write a master’s thesis on another topic. The <code class="language-plaintext highlighter-rouge">Configuration Status</code> on the top left shows that the student has not yet reached a state that describes an actual valid course set for a master in computer science (i.e., this is partial configuration):</p> <div class="row"><div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/BroT/ConfiguratorBDM_invalid_cut-480.webp 480w,/assets/img/BroT/ConfiguratorBDM_invalid_cut-800.webp 800w,/assets/img/BroT/ConfiguratorBDM_invalid_cut-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/BroT/ConfiguratorBDM_invalid_cut.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Configuring Courses in BroT for Specializing in Big Data Management" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div></div> <p>When selecting more available courses from the center <code class="language-plaintext highlighter-rouge">Undefined</code> column, the student can reach a valid state, and be assured that taking the courses in the left column will definitely end in having specialized on big data management:</p> <div class="row"><div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/BroT/ConfiguratorBDM_valid_cut-480.webp 480w,/assets/img/BroT/ConfiguratorBDM_valid_cut-800.webp 800w,/assets/img/BroT/ConfiguratorBDM_valid_cut-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/BroT/ConfiguratorBDM_valid_cut.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="A Valid Configuration in BroT for Specializing in Big Data Management" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div></div> <p>Maybe I over-engineered the whole process a bit but for sure it was fun.</p> <h4 id="conclusion">Conclusion</h4> <p>In the end, the compilation and configuration did not scale well because of the aforementioned combinatorial explosion. While I could compile all branches, configuring some of them was just not feasible because the formulas were just too massive for the SAT solver. Using a better language such as higher-order logic and SMT solvers would have been more appropriate I guess but we wanted to see if we could reuse the FeatureIDE tooling for this particular problem without having to develop all the infrastructure from ground up.</p> <h2 id="so-whats-in-here-for-you">So what’s in here for you?</h2> <p>The <strong>compilation process</strong> is outlined in detail in our <strong>paper</strong> <a class="citation" href="#BTS:SEFM19">(Bittner et al., 2019)</a>. Here, we also explain how to encode at-most-k constraints based on a range of encodings from the literature, and we also present our own <strong>meta at-most-k encoding</strong>.</p> <p>If you are interested in <strong>reusing the encoding implementation</strong>, please check out our example repository on how to use the Java library:</p> <div class="row justify-content-sm-center"> <div class="repo p-2 text-center"> <a href="https://github.com/SoftVarE-Group/BroTLibraryExample" rel="external nofollow noopener" target="_blank"> <img class="repo-img-light w-100" alt="SoftVarE-Group/BroTLibraryExample" src="https://github-readme-stats.vercel.app/api/pin/?username=SoftVarE-Group&amp;repo=BroTLibraryExample&amp;theme=catpuccin_latte&amp;show_owner=true&amp;description_lines_count=2"> <img class="repo-img-dark w-100" alt="SoftVarE-Group/BroTLibraryExample" src="https://github-readme-stats.vercel.app/api/pin/?username=SoftVarE-Group&amp;repo=BroTLibraryExample&amp;theme=one_dark_pro&amp;show_owner=true&amp;description_lines_count=2"> </a> </div> </div> <p>If you are interested in the <strong>DSL</strong>, the <strong>compiler implementation</strong>, or the <strong>configuration tool</strong>, please head to our official BroT repository:</p> <div class="row justify-content-sm-center"> <div class="repo p-2 text-center"> <a href="https://github.com/SoftVarE-Group/BroT" rel="external nofollow noopener" target="_blank"> <img class="repo-img-light w-100" alt="SoftVarE-Group/BroT" src="https://github-readme-stats.vercel.app/api/pin/?username=SoftVarE-Group&amp;repo=BroT&amp;theme=catpuccin_latte&amp;show_owner=true&amp;description_lines_count=2"> <img class="repo-img-dark w-100" alt="SoftVarE-Group/BroT" src="https://github-readme-stats.vercel.app/api/pin/?username=SoftVarE-Group&amp;repo=BroT&amp;theme=one_dark_pro&amp;show_owner=true&amp;description_lines_count=2"> </a> </div> </div> <p><em>Oh, and BroT means Branch Of study Tool. (I wanted a cool name for the FOSD Cool Wall. Scroll down on <a href="https://www.cs.cmu.edu/~ckaestne/" rel="external nofollow noopener" target="_blank">Christian Kästner’s website</a> to learn more about it.)</em></p> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2019</h2> <ol class="bibliography"><li> <div class="row"> <div class="col col-sm-2 abbr"> <abbr class="badge rounded w-100">SEFM</abbr> </div> <div id="BTS:SEFM19" class="col-sm-8"> <div class="title">SAT Encodings of the At-Most-k Constraint – A Case Study on Configuring University Courses</div> <div class="author"> <em>Paul Maximilian Bittner</em>, <a href="https://www.tu-braunschweig.de/isf/team/thuem" rel="external nofollow noopener" target="_blank">Thomas Thüm</a>, and <a href="https://tva.kastel.kit.edu/team_schaefer.php" rel="external nofollow noopener" target="_blank">Ina Schaefer</a> </div> <div class="periodical"> <em>In Proc. Int’l Conf. on Software Engineering and Formal Methods (SEFM)</em>, Oslo, Norway, Sep 2019 </div> <div class="periodical"> </div> <div class="links"> <a href="https://doi.org/10.1007/978-3-030-30446-1_7" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">DOI</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://github.com/SoftVarE-Group/Papers/raw/main/2019/2019-SEFM-Bittner.pdf" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">PDF</a> <a href="https://github.com/SoftVarE-Group/BroT" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">BTS:SEFM19</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Bittner, Paul Maximilian and Th\"um, Thomas and Schaefer, Ina}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{{SAT Encodings of the At-Most-k Constraint -- A Case Study on Configuring University Courses}}</span><span class="p">,</span>
  <span class="na">booktitle</span> <span class="p">=</span> <span class="s">{Proc.\ Int'l Conf.\ on Software Engineering and Formal Methods (SEFM)}</span><span class="p">,</span>
  <span class="na">editor</span> <span class="p">=</span> <span class="s">{{\"{O}}lveczky, Peter Csaba and Sala{\"{u}}n, Gwen}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{127--144}</span><span class="p">,</span>
  <span class="na">location</span> <span class="p">=</span> <span class="s">{Oslo, Norway}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1007/978-3-030-30446-1_7}</span><span class="p">,</span>
  <span class="na">publisher</span> <span class="p">=</span> <span class="s">{Springer}</span><span class="p">,</span>
  <span class="na">address</span> <span class="p">=</span> <span class="s">{Berlin, Heidelberg}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">sep</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2019}</span><span class="p">,</span>
  <span class="na">selected</span> <span class="p">=</span> <span class="nv">true</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Paul M. Bittner. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>